---
title: vue3 学习笔记
comments: true
abbrlink: cdd18cb2
date: 2020-12-23 10:28:28
categories:
  - 记录
tags:
  - Vue
---

Vue3 的更新带来了很多改动，包括周边生态都要更新，如 vue-router、vuex 等用法也有了不兼容旧版的改变。如果不看文档之间上手还真会有些难度。

<!--more-->

## 主要改变

1. 代码提示，更完善
2. 组合式 API，使代码更有组织
3. 响应式，使用 `Proxy` 而非 `Object.defineProperty`

## 代码提示

由于 vue3 使用 ts 重构，因此在 vs code 中具有了完善的类型提示，好的类型提示系统能避免开发者走很多弯路。

当然在自己的项目中仍然可以使用 js，但我还是觉得但凡 js 项目都应该使用 ts，并且是严格模式 `"strict": true`。

## 组合式 API

官网举例：[代码组织](https://vue3js.cn/vue-composition/#%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87)

在开发中，大组件应该分解为多个小组件，但仍然避免不了有些组件不易再细分。

在 Vue2 中，一个组件中的`data`、`method`、`computed`、`watch`等，其中可能会有多个内容。但是这个组件可能会有多个功能，当你看某个功能时，并不容易将 `data`、`method`、`computed` 等其中部分内容对应起来，反而需要反复跨越查看代码，你需要通读整个 vue 文件，才能完整的找到其中一个功能做了什么。

组合式 API 的出现就是为了解决这个问题。在 Vue3 中，你可以通过组合式 API 将不同功能所需的内容放在一起，让代码更 “有组织”

简单来说，Vue2 中代码最小单元可以看成是组件，多个组件组合一个页面，多个页面组合一个网页。但在 Vue3 中，最小单元是组合式 API，即一个组件由多个组合式 API 构成。
